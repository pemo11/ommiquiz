$schema: "http://json-schema.org/draft-07/schema#"
title: "OMMIQuiz Flashcards Schema"
description: "Universelles Schema zur Validierung von OMMIQuiz-Flashcards"
type: object

required:
  - id
  - author
  - title
  - description
  - createDate
  - language
  - module
  - semester
  - institution
  - studycourse
  - topics
  - keywords
  - flashcards

properties:

  id:
    type: string
    description: "Eindeutige Quiz-ID (projektweit eindeutig)"

  author:
    type: string
    description: "Autor oder Herausgeber"

  title:
    type: string

  description:
    type: string

  createDate:
    type: string
    format: date
    description: "ISO-Datum (YYYY-MM-DD)"

  language:
    type: string
    description: "Sprache des Quiz"
    enum: ["de", "en"]

  module:
    type: string
    description: "Modul- oder Themenkontext"

  semester:
    type: string
    description: "z. B. WS 2025/26"

  institution:
    type: string

  studycourse:
    type: string

  topics:
    type: array
    minItems: 1
    description: "Inhaltliche Themen"
    items:
      type: string

  keywords:
    type: array
    minItems: 1
    description: "Freie Schlagwörter (Strings, ggf. mit Semikolon)"
    items:
      type: string

  flashcards:
    type: array
    minItems: 1
    items:
      $ref: "#/definitions/flashcard"

definitions:

  flashcard:
    type: object
    required:
      - id
      - question
      - answer
      - type

    properties:

      id:
        type: string
        description: "Eindeutige ID der Lernkarte (z. B. frei wählbar oder konventionsbasiert)"

      question:
        type: string
        minLength: 3
        description: "Frage oder Vorderseite der Karte"

      answer:
        type: string
        minLength: 1
        description: "Antwort oder Rückseite der Karte"

      type:
        type: string
        enum:
          - single
          - multi
          - truefalse
          - cloze
        description: |
          Kartentyp:
          - single: einfache Frage-Antwort
          - multi: Mehrfachauswahl
          - truefalse: Wahr/Falsch
          - cloze: Lückentext

      hint:
        type: string
        description: "Optionale Hilfestellung"
        nullable: true

      explanation:
        type: string
        description: "Optionale ausführlichere Erklärung"
        nullable: true

      difficulty:
        type: string
        enum: ["A", "B", "C"]
        description: "Optionaler Schwierigkeitsgrad"
        nullable: true

      tags:
        type: array
        items:
          type: string
        description: "Optionale Schlagwörter pro Karte"
        nullable: true
